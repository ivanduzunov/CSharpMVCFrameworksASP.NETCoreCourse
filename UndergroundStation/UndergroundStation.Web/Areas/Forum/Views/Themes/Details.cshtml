@model ThemeDetailsServiceModel
@{
    ViewData["Title"] = $"{Model.ForumSectionTitle} - {Model.Title}";
}
<br />
<br />
<br />
<div class="row" align="center">
    <h2>@($"{Model.ForumSectionTitle}/{Model.Title}")</h2>
</div>
<div class="jumbotron">
    <div class="jumbotron-fluid" style="border:double">
        <h3>From: @Model.CreatorName</h3>
        <h4>@($"Date: {Model.PublishedDate.ToShortTimeString()} / {Model.PublishedDate.ToShortDateString()}")</h4>
        <p>@Model.Description</p>      
    </div>
    <p align="right">
        <a style="align-self:flex-end" href="@($"/Forum/Articles/Create/{Model.Id}")" class="btn btn-success btn-sm">Comment</a>
    </p>

    @foreach (var article in Model.Articles.OrderBy(a => a.PublishedDate).ThenBy(a => a.PublishedDate.TimeOfDay))
    {
        <div class="jumbotron-fluid; col-md-20" style="background-color: darkseagreen">
            <h4 style="background-color:aqua">@($"{article.Title} From: {article.authorUserName} Date: {article.PublishedDate.ToShortTimeString()}/{article.PublishedDate.ToShortDateString()}")</h4>
            <p><h5>@article.Content</h5></p>
            <p align="right">
                @{
                    var dict =
                        new Dictionary<string, string>
                        {
                             {"themeId", Model.Id.ToString()},
                             {"articleId", article.Id.ToString()},
                             {"title", article.Title}
                        };
                }

            </p>
        </div>
        <p align="right">
            <a class="btn btn-primary btn-sm" asp-area="Forum" asp-controller="Articles" asp-action="CreateAnswer" asp-route-id="@article.Id" asp-all-route-data="dict">Answer</a>
        </p>
        <div class="clearfix"></div>

        @foreach (var answer in article.Answers.OrderBy(a => a.PublishedDate).ThenBy(a => a.PublishedDate.TimeOfDay))
        {
            <div class="jumbotron-fluid; col-md-offset-1 col-md-19" style="background-color: darkseagreen">
                <h4 style="background-color:aqua">@($"{answer.Title} From: {answer.authorUserName}  Date: {answer.PublishedDate.ToShortTimeString()}/{answer.PublishedDate.ToShortDateString()}")</h4>
                <p><h5>@answer.Content</h5></p>
            </div>
            <div class="clearfix"></div>
        }
                    }
</div>
